(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(58)},58:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(25),o=a.n(l),i=a(13),s=a(27),c=a(4),p=a(3),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"property_data":return Object(p.a)({},e,{propertList:t.payload});case"copy_property_data":return Object(p.a)({},e,{propertListCopy:t.payload});case"api_error":return Object(p.a)({},e,{error:t.payload});case"all_property_data":return Object(p.a)({},e,{allProperties:t.payload});case"loading":return Object(p.a)({},e,{loading:t.payload});default:return e}},u=Object(c.c)({propertydata:d}),m=a(7),y=a(8),g=a(11),f=a(9),h=a(10),v=6,b=0,E=1500,x=0,N=15e4,H=function(e){return n.a.createElement("div",{className:"alert alert-danger",role:"alert"},e.children)},C=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).state={hasError:!1},a}return Object(h.a)(t,e),Object(y.a)(t,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){return this.state.hasError?n.a.createElement(H,null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(n.a.Component),S=function(e){return n.a.createElement("div",{className:"row"},n.a.createElement("div",{id:"products",className:"row view-group"},e.children))},w=function(e){return n.a.createElement("div",{className:"col-lg-12 my-3"},n.a.createElement("div",{className:"pull-left",style:{float:"left",width:"40%"}},n.a.createElement("div",{className:"btn-group"},n.a.createElement("button",{className:"btn btn-info",id:"list"},"List View"),n.a.createElement("button",{className:"btn btn-danger",id:"grid"},"Grid View"))),n.a.createElement("div",{className:"pull-right sorting",style:{float:"right",width:"40%"}},e.children))},O=function(e){var t=[],a=[];return e.images.forEach(function(r,l){var o=0===l?"active":null;t.push(n.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":l,key:"indicators".concat(l),className:o})),a.push(n.a.createElement("div",{className:["carousel-item",o].join(" "),key:"carouselItem".concat(l)},n.a.createElement("img",{className:"d-block w-100",src:"".concat("https://images.nobroker.in/images/").concat(e.propertyid,"/").concat(r.imagesMap.medium)})))}),n.a.createElement("div",{id:"carouselExampleIndicators".concat(e.propertyid),className:"carousel slide","data-ride":"carousel"},n.a.createElement("ol",{className:"carousel-indicators"},t),n.a.createElement("div",{className:"carousel-inner"},a),n.a.createElement("a",{className:"carousel-control-prev",href:"#carouselExampleIndicators".concat(e.propertyid),role:"button","data-slide":"prev"},n.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),n.a.createElement("span",{className:"sr-only"},"Previous")),n.a.createElement("a",{className:"carousel-control-next",href:"#carouselExampleIndicators".concat(e.propertyid),role:"button","data-slide":"next"},n.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),n.a.createElement("span",{className:"sr-only"},"Next")))},j=function(e){return n.a.createElement("img",{src:"https://www.fourrwalls.com/images/no_image.jpg",className:"group list-group-image img-fluid",alt:"no image"})},z=function(e){return console.log("[listing]",e),e.data.map(function(e){return n.a.createElement("div",{className:"item col-xs-4 col-lg-4",key:e.id},n.a.createElement("div",{className:"thumbnail card"},n.a.createElement("div",{className:"img-event"},0===e.photos.length?n.a.createElement(j,null):n.a.createElement(O,{images:e.photos,propertyid:e.id})),n.a.createElement("div",{className:"caption card-body"},n.a.createElement("h4",{className:"group card-title inner list-group-item-heading"},e.propertyTitle),n.a.createElement("div",null,n.a.createElement("span",{className:"badge badge-danger"},e.typeDesc),"\xa0",n.a.createElement("span",{className:"badge badge-primary"},e.city),"\xa0",n.a.createElement("span",{className:"badge badge-info"},e.propertyType),"\xa0",n.a.createElement("span",{className:"badge badge-success"},e.propertySize),"\xa0",n.a.createElement("span",{className:"badge badge-primary"},new Date(e.creationDate).toLocaleDateString())),n.a.createElement("p",{className:"group inner list-group-item-text"},e.description),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-xs-12 col-md-6"},n.a.createElement("p",{className:"lead"},"Rs ",0!=e.rent?e.rent:null)),n.a.createElement("div",{className:"col-xs-12 col-md-6"},n.a.createElement("a",{className:"btn btn-success",href:e.shortUrl,target:"_blank"},"Details"))))))})},L=function(e){return n.a.createElement("div",null,e.children," ")},k=a(28),P=a.n(k),D=a(1),_=a.n(D),M=function(){return function(e){return P.a.get("http://demo8213882.mockable.io/fetchProperties").then(function(t){"data"in t.data&&(e({type:"property_data",payload:_.a.slice(t.data.data,0,v)}),e({type:"copy_property_data",payload:t.data.data}),e({type:"all_property_data",payload:t.data.data}),e({type:"loading",payload:!1}))}).catch(function(t){e({type:"api_error",payload:"Something went wrong."}),e({type:"loading",payload:!1}),e({type:"property_data",payload:[]})})}},A=function(e){return function(t){t({type:"property_data",payload:e})}},I=function(e){return function(t){t({type:"copy_property_data",payload:e})}},B=function(e){return function(t){t({type:"loading",payload:e})}},U=function(e){return n.a.createElement("select",{className:e.className,style:e.style,onChange:function(t){e.changeHanldler(t.target.value)}},e.options.map(function(e){return n.a.createElement("option",{value:e.val,key:e.val},e.text)}))},R=function(e){return n.a.createElement(n.a.Fragment,null,"Sort by:",n.a.createElement(U,{className:"col-xs-5 col-lg-5",style:{float:"right"},changeHanldler:function(t){var a=e.copyData;switch(parseInt(t)){case 1:var r=_.a.sortBy(a,"rent").reverse();e.updateHandler(_.a.slice(r,0,e.offset+v)),e.updateCopyHandler(r);break;case 2:var n=_.a.sortBy(a,"rent");e.updateHandler(_.a.slice(n,0,e.offset+v)),e.updateCopyHandler(n);break;case 3:var l=_.a.sortBy(a,"propertySize").reverse();e.updateHandler(_.a.slice(l,0,e.offset+v)),e.updateCopyHandler(l);break;case 4:var o=_.a.sortBy(a,"propertySize");e.updateHandler(_.a.slice(o,0,e.offset+v)),e.updateCopyHandler(o);break;case 5:var i=_.a.sortBy(a,"creationDate").reverse();e.updateHandler(_.a.slice(i,0,e.offset+v)),e.updateCopyHandler(i);break;case 6:var s=_.a.sortBy(a,"creationDate");e.updateHandler(_.a.slice(s,0,e.offset+v)),e.updateCopyHandler(s)}},options:[{val:0,text:"---Sort---"},{val:1,text:"Higher to lower Rent"},{val:2,text:"Lower to Higher Rent"},{val:3,text:"Bigger to Smaller Size"},{val:4,text:"Smaller to Bigger Size"},{val:5,text:"Newer to Older"},{val:6,text:"Older to Newer"}]}))},F=a(5),J=function(e){function t(e,a){var r;return Object(m.a)(this,t),(r=Object(g.a)(this,Object(f.a)(t).call(this,e,a))).setInitialState=function(){return{propertySize:{max:E,min:b},rent:{max:N,min:x},photoAvailable:!1}},r.photoChangeHandler=function(){r.setState(function(e){return{photoAvailable:!e.photoAvailable}})},r.propertySizeMinChangeHandler=function(e){r.setState(function(t){var a=Object(p.a)({},t.propertySize);if(a.min=parseInt(e)||0,a.min>=0&&a.min<=E/2)return{propertySize:a}})},r.propertySizeMaxChangeHandler=function(e){r.setState(function(t){var a=Object(p.a)({},t.propertySize);if(a.max=parseInt(e)||E,a.max>0&&a.max<=E)return{propertySize:a}})},r.rentMinChangeHandler=function(e){r.setState(function(t){var a=Object(p.a)({},t.rent);if(a.min=parseInt(e)||0,a.min>=0&&a.min<=N/2)return{rent:a}})},r.rentMaxChangeHandler=function(e){r.setState(function(t){var a=Object(p.a)({},t.rent);if(a.max=parseInt(e)||N,a.max>0&&a.max<=N)return{rent:a}})},r.resetHandler=function(e){r.props.loading(!0),r.setState(r.setInitialState()),r.props.loadAllPropertyData()},r.submitHandler=function(e){r.props.loading(!0);var t=r.props.allProperties,a=_.a.filter(t,function(e){return e.propertySize>=r.state.propertySize.min&&e.propertySize<=r.state.propertySize.max});a=_.a.filter(a,function(e){return e.rent>=r.state.rent.min&&e.rent<=r.state.rent.max}),r.state.photoAvailable&&(a=_.a.filter(a,function(e){return e.photoAvailable})),r.props.updateHandler(_.a.slice(a,0,r.props.offset+v)),r.props.updateCopyHandler(a),r.props.loading(!1),e.preventDefault()},r.state=r.setInitialState(),r.submitHandler=r.submitHandler.bind(Object(F.a)(Object(F.a)(r))),r.resetHandler=r.resetHandler.bind(Object(F.a)(Object(F.a)(r))),r}return Object(h.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{style:{width:"100%"}},n.a.createElement("div",{className:"card"},n.a.createElement("form",{name:"filter",onSubmit:this.submitHandler,onReset:this.resetHandler},n.a.createElement("div",{className:"card-header"},"Filter"),n.a.createElement("div",{className:"card-body"},n.a.createElement("p",{className:"lead",style:{float:"left",width:"40%"}},n.a.createElement("label",null,"Property Size:"),n.a.createElement("br",null),n.a.createElement("input",{type:"text",className:"col-sm-2",value:this.state.propertySize.min,onChange:function(t){e.propertySizeMinChangeHandler(t.target.value)}}),n.a.createElement("input",{type:"range",min:"0",max:"750",value:this.state.propertySize.min,onChange:function(t){e.propertySizeMinChangeHandler(t.target.value)}}),n.a.createElement("input",{type:"range",min:"751",max:"1500",style:{marginLeft:"-5px"},value:this.state.propertySize.max,onChange:function(t){e.propertySizeMaxChangeHandler(t.target.value)}}),n.a.createElement("input",{type:"text",className:"col-sm-3",value:this.state.propertySize.max,onChange:function(t){e.propertySizeMaxChangeHandler(t.target.value)}})),n.a.createElement("p",{className:"lead",style:{float:"left",width:"40%"}},n.a.createElement("label",null,"Rent:"),n.a.createElement("br",null),n.a.createElement("input",{type:"text",className:"col-sm-2",value:this.state.rent.min,onChange:function(t){e.rentMinChangeHandler(t.target.value)}}),n.a.createElement("input",{type:"range",min:"0",max:"75000",value:this.state.rent.min,onChange:function(t){e.rentMinChangeHandler(t.target.value)}}),n.a.createElement("input",{type:"range",style:{marginLeft:"-5px"},min:"75001",max:"150000",value:this.state.rent.max,onChange:function(t){e.rentMaxChangeHandler(t.target.value)}}),n.a.createElement("input",{type:"text",className:"col-sm-3",value:this.state.rent.max,onChange:function(t){e.rentMaxChangeHandler(t.target.value)}})),n.a.createElement("p",{className:"lead",style:{float:"left",width:"15%"}},n.a.createElement("label",null,"Photos Available:"),n.a.createElement("br",null),n.a.createElement("input",{type:"checkbox",name:"PhotosAvailable",checked:this.state.photoAvailable,onChange:this.photoChangeHandler})),n.a.createElement("div",{style:{clear:"both"}}),n.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg",style:{padding:"5px 61px"}},"Filter"),"\xa0",n.a.createElement("input",{type:"reset",className:"btn btn-danger btn-lg",style:{padding:"5px 61px"},value:"Reset"})))))}}]),t}(n.a.Component),T=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).setLoading=function(e){a.props.dispatch(B(e))},a.loadAllPropertyData=function(){return a.props.dispatch(M())},a.LoadMoreProperties=function(){var e=a.props.propertListCopy;window.innerHeight+window.scrollY>=document.body.offsetHeight&&(a.setState(function(e){return{pagingOffset:e.pagingOffset+v}}),a.propertyUpdateHandler(_.a.slice(e,0,a.state.pagingOffset+v)))},a.propertyUpdateHandler=function(e){a.props.dispatch(A(e))},a.UpdatePropertyCopyHandler=function(e){a.props.dispatch(I(e))},a.displayListing=function(){return"undefined"===typeof a.props.propertyList||a.props.loading?n.a.createElement(L,null,"Loading..."):"undefined"!==typeof a.props.error?n.a.createElement(H,null,a.props.error):a.props.propertyList.length>0?n.a.createElement(z,{data:a.props.propertyList}):n.a.createElement(H,null,"No Property Found")},a.state={pagingOffset:0},window.addEventListener("scroll",a.LoadMoreProperties),a}return Object(h.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.loadAllPropertyData()}},{key:"render",value:function(){return console.log("[listing]",this.props),n.a.createElement(S,null,n.a.createElement(J,{updateHandler:this.propertyUpdateHandler,copyData:this.props.propertListCopy,updateCopyHandler:this.UpdatePropertyCopyHandler,allProperties:this.props.allProperties,loadAllPropertyData:this.loadAllPropertyData,loading:this.setLoading,offset:this.state.pagingOffset}),n.a.createElement(w,null,n.a.createElement(R,{updateHandler:this.propertyUpdateHandler,copyData:this.props.propertListCopy,updateCopyHandler:this.UpdatePropertyCopyHandler,offset:this.state.pagingOffset})),this.displayListing())}}]),t}(n.a.Component);var V=Object(i.b)(function(e){return{propertyList:e.propertydata.propertList,propertListCopy:e.propertydata.propertListCopy,allProperties:e.propertydata.allProperties,loading:e.propertydata.loading,error:e.propertydata.error}},null)(T),q=Object(c.a)(s.a)(c.d),G=n.a.createElement(i.a,{store:q(u)},n.a.createElement(C,null,n.a.createElement(V,null)));o.a.render(G,document.querySelector(".container"))}},[[29,2,1]]]);
//# sourceMappingURL=main.59ea2a7c.chunk.js.map